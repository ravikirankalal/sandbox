<?xml version="1.0"?>
<?xml-stylesheet type="text/xsl" href="configuration.xsl"?>

<!--
We are implementing HDFS HA using NFS for the shared storage. We are NOT using quorum journal manager.
ref: https://hadoop.apache.org/docs/r2.7.2/hadoop-project-dist/hadoop-hdfs/HDFSHighAvailabilityWithNFS.html
-->

<configuration>
    <property>
        <name>dfs.ha.namenodes.bheema</name>
        <value>nn1,nn2</value>
    </property>

    <property>
        <name>dfs.namenode.http-address.bheema.nn1</name>
        <value>10.33.101.47:50070</value>
    </property>

    <property>
        <name>dfs.namenode.http-address.bheema.nn2</name>
        <value>10.33.41.77:50070</value>
    </property>

    <property>
        <name>dfs.namenode.rpc-address.bheema.nn1</name>
        <value>10.33.101.47:8020</value>
    </property>

    <property>
        <name>dfs.namenode.rpc-address.bheema.nn2</name>
        <value>10.33.41.77:8020</value>
    </property>

    <property>
        <name>dfs.client.failover.proxy.provider.bheema</name>
        <value>org.apache.hadoop.hdfs.server.namenode.ha.ConfiguredFailoverProxyProvider</value>
    </property>

    <!--krios*****************************************************************************************************-->
    <property>
        <name>fs.defaultFS</name>
        <value>hdfs://krios</value>
        <final>true</final>
    </property>


    <property>
        <name>dfs.ha.namenodes.krios</name>
        <value>nn1,nn2</value>
    </property>

    <property>
        <name>dfs.namenode.http-address.krios.nn1</name>
        <value>prod-fdphadoop-krios-nn-0001:50070</value>
    </property>

    <property>
        <name>dfs.namenode.http-address.krios.nn2</name>
        <value>prod-fdphadoop-krios-nn-0002:50070</value>
    </property>

    <property>
        <name>dfs.namenode.rpc-address.krios.nn1</name>
        <value>prod-fdphadoop-krios-nn-0001:8020</value>
    </property>

    <property>
        <name>dfs.namenode.rpc-address.krios.nn2</name>
        <value>prod-fdphadoop-krios-nn-0002:8020</value>
    </property>

    <property>
        <name>dfs.client.failover.proxy.provider.krios</name>
        <value>org.apache.hadoop.hdfs.server.namenode.ha.ConfiguredFailoverProxyProvider</value>
    </property>


    <!--venus*****************************************************************************************************-->

    <property>
        <name>dfs.ha.namenodes.venus</name>
        <value>nn1,nn2</value>
    </property>

    <property>
        <name>dfs.namenode.http-address.venus.nn1</name>
        <value>prod-venus-nn-0001:50070</value>
    </property>

    <property>
        <name>dfs.namenode.http-address.venus.nn2</name>
        <value>prod-venus-nn-0002:50070</value>
    </property>

    <property>
        <name>dfs.namenode.rpc-address.venus.nn1</name>
        <value>prod-venus-nn-0001:8020</value>
    </property>

    <property>
        <name>dfs.namenode.rpc-address.venus.nn2</name>
        <value>prod-venus-nn-0002:8020</value>
    </property>

    <property>
        <name>dfs.client.failover.proxy.provider.venus</name>
        <value>org.apache.hadoop.hdfs.server.namenode.ha.ConfiguredFailoverProxyProvider</value>
    </property>

    <!--all name services*******************************************************************************************-->

    <property>
        <name>dfs.nameservices</name>
        <value>bheema,venus,krios</value>
    </property>

    <!--
        not sure if required or not
        <property>
            <name>dfs.namenode.http-address</name>
            <value>localhost:50070</value>
            <final>true</final>
        </property>
    -->

</configuration>